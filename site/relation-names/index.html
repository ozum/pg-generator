<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Özüm Eldoğan">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Relation Names - pg-generator</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Relation Names";
    var mkdocs_page_input_path = "relation-names.md";
    var mkdocs_page_url = "/relation-names/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-45732546-5', 'auto');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> pg-generator</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Relation Names</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#relation-names">Relation Names</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#naming-collisions">Naming Collisions</a></li>
        
            <li><a class="toctree-l3" href="#alternative-methods">Alternative Methods</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../migration/">Migration</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Template</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../template/template/">Template</a>
                </li>
                <li class="">
                    
    <a class="" href="../template/directories-files/">Directories & Files</a>
                </li>
                <li class="">
                    
    <a class="" href="../template/filters/">Filters</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Builtin Templates</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../builtin-templates/tutorial/">Tutorial</a>
                </li>
                <li class="">
                    
    <a class="" href="../builtin-templates/base/">Base</a>
                </li>
                <li class="">
                    
    <a class="" href="../builtin-templates/sequelize/">Sequelize</a>
                </li>
                <li class="">
                    
    <a class="" href="../builtin-templates/objection/">Objection</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../api/template-module-api/">Template Module API</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../history/">History</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../license/">License</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">pg-generator</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Relation Names</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/ozum/pg-generator.git/edit/master/docs/relation-names.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="relation-names">Relation Names</h1>
<p>Relation names are not easy to determine automatically, because every db admin or developer have their own decisions how to name models. Also there isn't right or wrong about naming relations.</p>
<p><code>pg-generator</code> allows any relation naming method through its templating system. For an example, see <code>template/sequelize/partials/helper.nunj.html</code> file in template.</p>
<h2 id="naming-collisions">Naming Collisions</h2>
<p>However relation naming collisions happen except when database designs is really basic.</p>
<p>To see a possible example of collision see below DDL.</p>
<p>There are two references from <code>change_status</code> table and also another reference from <code>process</code> table in <code>transition</code> table.</p>
<pre><code class="sql">CREATE TABLE process (
    process_id    serial    PRIMARY KEY,
    name          text
);

CREATE TABLE change_status (
    change_status_id    serial    PRIMARY KEY,
    name                text
);

CREATE TABLE transition (
    transition_id    serial    PRIMARY KEY,
    process          integer   REFERENCES process(process_id),
    current_state    integer   REFERENCES change_status (change_status_id),
    next_state       integer   REFERENCES change_status (change_status_id)
);
</code></pre>

<p>Even it is not meant a many to many relation here, auto generator cannot determine whether it is a many to many relation or not.</p>
<pre><code>                  ┌---------&lt; change_status
                  |
process &gt;--- transition ----&lt; change_status

</code></pre>

<h2 id="alternative-methods">Alternative Methods</h2>
<p>There are some alternative methods to overcome collision. Those alternatives can be used individually or combined.</p>
<ol>
<li>
<p>Using custom data file such as <code>pgen --datafile custom.js</code>, and provide aliases as you wish for collided relations. See <a href="../template/directories-files/#custom-data-file">Custom Data File</a></p>
</li>
<li>
<p>Changing naming method in template, and use your own rules for relation names. See <code>template/sequelize/partials/helper.nunj.html</code> in template.</p>
</li>
<li>
<p>You can use <code>generateName()</code> method of <code>pg-structure</code> as described in <a href="http://www.pg-structure.com/relation-names/">pg-sturcture relation names</a>. <code>generateName()</code> method can be used in template. This alternative provides convenience and ultimate flexibility at the same time.</p>
</li>
</ol>
<p>For example:</p>
<p><code>{{ relation.generateName('complex') }}</code></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../migration/" class="btn btn-neutral float-right" title="Migration">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/ozum/pg-generator.git" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../migration/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
